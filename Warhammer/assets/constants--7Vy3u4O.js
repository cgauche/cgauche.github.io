function c(t){return t.base+t.star+t.talent+t.advance}function T(t){return Math.floor(t/10)}function C(t){return T(c(t))}function _(t){return t.spec?`${t.id} (${t.spec})`:t.id}function o(t){return t.advance+t.tmpadvance}function r(t,E){const e=E.find(n=>n.id===t.characteristic);return e?c(e):0}function A(t,E,e){const n=o(t),s=r(E,e),S=s+n;return{...t,label:_(t),characteristic:E.characteristic,type:E.type,characteristicValue:s,totalAdvances:n,total:S,bonus:Math.floor(S/10)}}function O(t,E,e){return t.map(n=>{const s=E(n.id);return s?A(n,s,e):null}).filter(n=>n!==null)}const I={specie:0,star:1e4,career:2e4,characteristics:3e4,skills:4e4,talents:5e4,god:6e4,magicTradition:7e4,spells:8e4,trappings:9e4,details:1e5,secondary:11e4,experience:12e4},L=100,N=50,i=51,u=1,P={AGE:0,EYES:1e3,HAIR:2e3,HEIGHT:3e3,NAME:4e3},l={ADVANCES:1e3,EXTRA:2e3},M={SPECIES_BONUSES:0,CAREER_POOL:1e3},U={GLOBAL_ROLL:0},D={EQUIPMENT_ROLL:0,MONEY_ROLL:1e3},h={INTELLIGENT_ROLL:0},F={HIGH_PRIORITY_PROBABILITY:70,MAX_ITERATIONS:100};function f(t,E){const e=t.rerollCounts[E]??0;return t.masterSeed+I[E]+e*L}const B={MAIN:"roll"},d={SPECIES_PATTERN:[3,3,3,5,5,5],SPECIES_BONUS_VALUES:[0,3,5],CAREER_BUDGET:40,MAX_PER_SKILL:10},g={GUIDED_MIN_ROLL:4,GUIDED_MAX_ROLL:18,POINT_BUY_BUDGET:100,POINT_BUY_INITIAL:4},X=5,H={CHOICE_SPEC:"Au choix"},Y={WILLPOWER:"Force Mentale",INTELLIGENCE:"Intelligence"},p={FATE:"Destin",RESILIENCE:"Résilience",WOUNDS:"Blessures",MOVEMENT:"Mouvement",LUCK:"Chance",RESOLVE:"Détermination",EXTRA_POINTS:"Extra Points"},G={HARDY:"Dur à cuire"},R={TYPES:{PETTY:"Magie mineure",BLESSED:"Béni",INVOCATION:"Invocation",ARCANE:"Magie des Arcanes",CHAOS:"Magie du Chaos"}},a={CHARACTERISTIC:[25,30,40,50,70,90,120,150,190,230,280,330,390,450,520],SKILL:[10,15,20,30,40,60,80,110,140,180,220,270,320,380,440],OUT_CAREER_MULTIPLIER:2,TALENT_XP_PER_RANK:100,SPELL_PETTY:[50,100,150,200,250,300,350,400],SPELL_ARCANE:[100,200,300,400,500,600,700,800],SPELL_INVOCATION_PER_KNOWN:100,MAX_CHARACTERISTIC_ADVANCES:75,MAX_SKILL_ADVANCES:75,MAX_TALENT_RANKS:10};function V(t,E,e=!0){const n=a[t],s=Math.floor(E/5),S=n[Math.min(s,n.length-1)];return t==="SKILL"&&!e?S*a.OUT_CAREER_MULTIPLIER:S}function m(t,E=!0){const e=a.TALENT_XP_PER_RANK*(t+1);return E?e:e*a.OUT_CAREER_MULTIPLIER}function K(t,E,e){const{TYPES:n}=R;switch(t){case n.PETTY:{const s=e>0?Math.floor(E/e):0,S=a.SPELL_PETTY;return S[Math.min(s,S.length-1)]}case n.ARCANE:{const s=e>0?Math.floor(E/e):0,S=a.SPELL_ARCANE;return S[Math.min(s,S.length-1)]}case n.INVOCATION:return a.SPELL_INVOCATION_PER_KNOWN*Math.max(1,E);case n.BLESSED:case n.CHAOS:return null;default:return null}}export{X as C,P as D,h as E,R as M,Y as P,H as R,i as S,U as T,I as a,V as b,m as c,C as d,O as e,K as f,f as g,F as h,M as i,d as j,D as k,p as l,g as m,c as n,B as o,l as p,u as q,o as r,N as s,_ as t,G as u};
